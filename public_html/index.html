<html>
    <head>
        <meta charset="utf-8">
        <title>What is this character called?</title>
        <meta name="robots" content="index,follow">
        <meta name="description" content="What is this character called?">
        <meta name="keywords" content="______">
        <meta name="geo.country" content="US">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <meta name="author" content="Steven Howell">
        <style>
            .main-content { padding: 40px; text-align: center; }
            .char-name { font-style: italic; }
        </style>
    </head>
    <body>
        <div class="main-content">
            <h1 id=loader>Loading</h1>
            <h1 class="heading">Input any character to see its name.</h1>
            <section aria-label="character name display">
                <h2 class="char-symbol"></h2>
                <p class="char-name"></p>
            </section>
        </div>
    </body>
    <script>
        function createMapping () {
            if (this.readyState == 4 && this.status == 200) {
                http.responseText
                    .split('\n')
                    .forEach(function (charCodeItem) {
                        var charCodeData = charCodeItem.split(';');    
                        charMap[charCodeData[0].toLowerCase()] = charCodeData[1];
                    });
                    loader.innerText = "DONE!!";
            }
        }
        
        function handleKeyPress (event) {
            charSymbolElement.innerText = event.key;
            charNameElement.innerText = charMap[getFourDigitHex(event.charCode)] || shrug;
        }
        
        function getFourDigitHex (num) {
            return ("0000" + (+num).toString(16)).substr(-4);
        }

        var charMap = {};
        // Load data from Unicode
        var http = new XMLHttpRequest();
        http.onreadystatechange = createMapping;
        http.open('GET', '/ucd/UnicodeData.txt;');
        http.send();

        var charNameElement = document.querySelector('.char-name'),
            charSymbolElement = document.querySelector('.char-symbol'),
            loader = document.querySelector('#loader'),
            shrug = '¯\\_(ツ)_/¯';

        window.addEventListener('keypress', handleKeyPress);
    </script>
</html>